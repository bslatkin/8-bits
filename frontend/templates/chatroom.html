{% extends "base.html" %}

{% block additional_css %}

<link rel="stylesheet" href="/static/{{cache_buster}}/css/chatbox.css">
<link rel="stylesheet" href="/static/{{cache_buster}}/css/chatroom.css">
<link rel="stylesheet" href="/static/{{cache_buster}}/css/footer.css">
<link rel="stylesheet" href="/static/{{cache_buster}}/css/posts.css">
<link rel="stylesheet" href="/static/{{cache_buster}}/css/settings.css">

{% endblock additional_css %}


{% block additional_js %}

<script src='/_ah/channel/jsapi'></script>

{% if js_mode == 'raw' %}
  <script type="text/javascript" src="/js/closure/goog/base.js"></script>
  <script type="text/javascript" src="/js/bits/deps.js"></script>
  <script type="text/javascript">
    goog.require('bits.startup');
  </script>
{% else %}
  <script type="text/javascript" src="/static/compiled.js"></script>
{% endif %}

{% endblock additional_js %}


{% block body %}

<div class="content-wrapper">
  <div class="bits-chatbox-container">
    <div id="chatbox" class="bits-chatbox">
      <div class="goog-splitpane-first-container">
        <div class="bits-post-container"></div>
      </div>
      <div class="goog-splitpane-second-container">
        <textarea class="bits-chat-input"></textarea>
      </div>
      <div class="goog-splitpane-handle"></div>
    </div>
  </div>
</div>

<div class="bits-footer-bar" id="footer-bar">
  <div class="bits-footer-settings-left">
    <span id="nickname-display">{{nickname}}</span>

    <a href="javascript:void(0)" id="nickname-change"
        class="bits-setting-link small" title="Update your look">edit</a>

    <a href="javascript:void(0)" class="bits-setting-link" id="see-roster"
        title="See who else is present">who's here?</a>
  </div>

  <a href="/" target="_blank" title="About 8-bits of ephemera"><img src="/static/{{cache_buster}}/logo_wide.png" height="24" width="185"
        alt="8-bits of ephemera" class="footer-logo" border="0"></a>

  <div class="bits-footer-settings-right">
    <span class="bits-footer-shorturl">
      {{short_url_prefix}}{{shard_id}}
    </span>
  </div>
</div>

<div class="bits-dialog" id="settings-dialog">
  <form class="">
    <label for="setting-nickname" class="large">Nickname</label>
    <br>
    <input type="text" name="nickname"
        id="setting-nickname" class="title" value="{{nickname}}">
  </form>
</div>

<script>
  bits.startup({{params|safe}});
</script>

{% endblock body %}
